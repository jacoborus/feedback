{"openapi":"3.1.0","info":{"title":"Feedback Docs","version":"1"},"servers":[{"url":"http://localhost:3000/api","description":"Current environment"}],"components":{"schemas":{"Report":{"type":"object","properties":{"_id":{},"name":{"type":"string","example":"John Doe"},"email":{"type":"string","format":"email","example":"johndoe@example.com"},"feedbacktype":{"type":"string","enum":["bug","suggestion"]},"title":{"type":"string","example":"Bug in the page"},"message":{"type":"string","example":"Found a bug in this page"},"date":{"type":"string","example":"2021-09-01T00:00:00.000Z"}},"required":["name","email","feedbacktype","title","message","date"]},"ReportInsert":{"type":"object","properties":{"name":{"type":"string","example":"John Doe"},"email":{"type":"string","format":"email","example":"johndoe@example.com"},"feedbacktype":{"type":"string","enum":["bug","suggestion"]},"title":{"type":"string","example":"Bug in the page"},"message":{"type":"string","example":"Found a bug in this page"}},"required":["name","email","feedbacktype","title","message"]}},"parameters":{}},"paths":{"/feedback":{"get":{"operationId":"listReports","summary":"List all the reports","tags":["Feedback"],"parameters":[{"schema":{"type":"number","exclusiveMinimum":0,"default":1,"example":2},"required":false,"description":"page of items to get","name":"page","in":"query"},{"schema":{"type":"string","enum":["bug","suggestion","all"],"default":"all","example":"bug"},"required":false,"description":"Filter by feedback type","name":"feedbacktype","in":"query"},{"schema":{"type":"string","enum":["date","name"],"default":"date","example":"name"},"required":false,"description":"Sort by date or name","name":"sortby","in":"query"}],"responses":{"200":{"description":"The reports","content":{"application/json":{"schema":{"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/Report"}},"total":{"type":"number"},"page":{"type":"number"}},"required":["items","total","page"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","default":false},"message":{"type":"string"}},"required":["message"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","default":false},"message":{"type":"string"}},"required":["message"]}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","default":false},"message":{"type":"string"}},"required":["message"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","default":false},"message":{"type":"string"}},"required":["message"]}}}}}},"post":{"operationId":"createReport","summary":"Create one report","tags":["Feedback"],"requestBody":{"description":"a report object","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportInsert"}}}},"responses":{"201":{"description":"New report","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/Report"},{"type":["object","null"]}]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","default":false},"message":{"type":"string"}},"required":["message"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","default":false},"message":{"type":"string"}},"required":["message"]}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","default":false},"message":{"type":"string"}},"required":["message"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","default":false},"message":{"type":"string"}},"required":["message"]}}}}}}},"/feedback/{id}":{"get":{"operationId":"getReport","summary":"Get a report","tags":["Feedback"],"parameters":[{"schema":{"type":"string","minLength":3,"example":"1212121"},"required":true,"description":"the id of the task","name":"id","in":"path"}],"responses":{"200":{"description":"A report","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Report"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","default":false},"message":{"type":"string"}},"required":["message"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","default":false},"message":{"type":"string"}},"required":["message"]}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","default":false},"message":{"type":"string"}},"required":["message"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","default":false},"message":{"type":"string"}},"required":["message"]}}}}}},"delete":{"operationId":"removeReport","summary":"Delete a report","tags":["Feedback"],"parameters":[{"schema":{"type":"string","minLength":3,"example":"1212121"},"required":true,"description":"the id of the task","name":"id","in":"path"}],"responses":{"200":{"description":"Deleted report successfully","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","minLength":3,"example":"1212121"}},"required":["id"]}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","default":false},"message":{"type":"string"}},"required":["message"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","default":false},"message":{"type":"string"}},"required":["message"]}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","default":false},"message":{"type":"string"}},"required":["message"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","default":false},"message":{"type":"string"}},"required":["message"]}}}}}}}},"webhooks":{}}